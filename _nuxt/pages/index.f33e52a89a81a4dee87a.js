webpackJsonp([1],{"0x2M":function(e,t,a){"use strict";var n=a("mvHQ"),o=a.n(n),r=a("//Fk"),l=a.n(r),c=a("fZjL"),i=a.n(c),s=a("osXY");t.a={data:function(){return{g:s.a,countdown:0,content:"",output:"",error:"",val_map:{},spendable:!1,delegatable:!0,delegate:""}},methods:{timer:function(){var e=this;this.countdown=45;var t=setInterval(function(){e.countdown-=1,0===e.countdown&&clearInterval(t)},1e3);return 45e3},replace:function(e,t){var a=this;return e.replace(new RegExp(i()(t).join("|"),"g"),function(e){return a.val_map[t[e]]})},trydeploy:function(e){try{this.deploy(e)}catch(e){this.error=e.stack}},deploy:function(e){var t=this;if(!e&&!confirm("Have you checked before?"))return!1;this.val_map={};var a=JSON.parse(this.content),n=a.order,r=a.replacement,c=a.contracts,i=tezbridge({method:"public_key_hash"}).then(function(e){t.val_map.ADMIN=e,t.g.admin=e});n.forEach(function(a){i=i.then(function(){return new l.a(function(n,l){return setTimeout(function(){var i=o()(c[a].script),s=o()(c[a].storage),d=JSON.parse(t.replace(i,r)),u=JSON.parse(t.replace(s,r));tezbridge({method:"originate",no_injection:e,balance:0,script:{code:d,storage:u},spendable:t.spendable,delegatable:t.delegatable,delegate:t.delegate?t.delegate:void 0}).then(function(e){t.val_map["CONTRACT."+a]=e.contracts[0],t.output=o()(t.val_map,null,4),n()}).catch(function(e){return l(e)})},e?0:t.timer())})})}),i.then(function(){t.output=o()(t.val_map,null,4)}).catch(function(e){t.error=e instanceof Error?e.stack:e})}}}},"2NXm":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("0x2M"),o=a("HOEU"),r=!1;var l=function(e){r||a("n8NP")},c=a("VU/8")(n.a,o.a,!1,l,"data-v-57509004",null);c.options.__file="src/pages/index.vue",t.default=c.exports},HOEU:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],attrs:{placeholder:"input deploy JSON here"},domProps:{value:e.content},on:{input:function(t){t.target.composing||(e.content=t.target.value)}}}),a("div",{staticClass:"option"},[a("label",[a("span",[e._v("spendable:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.spendable,expression:"spendable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.spendable)?e._i(e.spendable,null)>-1:e.spendable},on:{change:function(t){var a=e.spendable,n=t.target,o=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&(e.spendable=a.concat([null])):r>-1&&(e.spendable=a.slice(0,r).concat(a.slice(r+1)))}else e.spendable=o}}})]),a("br"),a("label",[a("span",[e._v("delegatable:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.delegatable,expression:"delegatable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.delegatable)?e._i(e.delegatable,null)>-1:e.delegatable},on:{change:function(t){var a=e.delegatable,n=t.target,o=!!n.checked;if(Array.isArray(a)){var r=e._i(a,null);n.checked?r<0&&(e.delegatable=a.concat([null])):r>-1&&(e.delegatable=a.slice(0,r).concat(a.slice(r+1)))}else e.delegatable=o}}})]),a("br"),a("label",[a("span",[e._v("delegate:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.delegate,expression:"delegate"}],domProps:{value:e.delegate},on:{input:function(t){t.target.composing||(e.delegate=t.target.value)}}})]),a("br"),a("label",[e._v("Deployment countdown: "+e._s(this.countdown)+"s")]),a("br")]),a("button",{staticClass:"deploy-btn",on:{click:function(t){e.trydeploy(!0)}}},[e._v("Check")]),a("button",{staticClass:"deploy-btn",on:{click:function(t){e.trydeploy(!1)}}},[e._v("Deploy")]),a("button",{staticClass:"clear-btn",on:{click:function(t){e.output="",e.error=""}}},[e._v("Clear")]),a("pre",{staticClass:"output"},[e._v(e._s(e.output))]),a("pre",{staticClass:"error"},[e._v(e._s(e.error))])])};n._withStripped=!0;var o={render:n,staticRenderFns:[]};t.a=o},n8NP:function(e,t,a){var n=a("xpWV");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("c2d4b156",n,!1,{sourceMap:!1})},osXY:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={admin:""}},xpWV:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"textarea[data-v-57509004]{font-family:consolas,monospace;width:100%;height:300px;padding:8px}.option[data-v-57509004]{line-height:2}.option input[data-v-57509004]{margin-left:8px}.output[data-v-57509004]{background:#e8f8dc}.error[data-v-57509004],.output[data-v-57509004]{font-family:consolas,monospace;overflow:auto;padding:8px;margin:8px 0}.error[data-v-57509004]{background:#ffe8e8;color:red}.deploy-btn[data-v-57509004]{margin:8px}.clear-btn[data-v-57509004]{float:right}",""])}});